<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <p>При розв’язанні задач намагайтесь використовувати відповідні методи (map, filter, reduce,…) всюди, де це можливо
        <br>
        Задача. Дано історію цін на цінні папери за деякий період (згенерувати від 1 до 10000)<br>
        1)Сформувати новий масив, у якому є тільки ті, що більші за 1000 грн.<br>
        2)Сформувати новий масив, у якому є номери тільки тих, що більші за 1000 грн.<br>
        3)Сформувати список з тих цін, які більші за попереднє значення<br>
        4)Сформувати новий масив, що міститиме значення цін у відсотках стосовно максимального<br>
        5)Підрахувати кількість змін цін<br>
        6)Визначити, чи є ціна, що менше 1000<br>
        7)Визначати, чи усі ціни більше за 1000<br>
        8)Підрахувати кількість цін, що більше за 1000<br>
        9)Підрахувати суму цін, що більше за 1000<br>
        10)Знайти першу ціну, що більше за 1000<br>
        11)Знайти індекс першої ціни, що більше за 1000<br>
        12)Знайти останню ціну, що більше за 1000<br>
        13)Знайти індекс останньої ціни, що більше за 1000
    </p>

    <script>
        let arrRandomPrices = new Array(10).fill(0).map(element => (1 + Math.floor(Math.random() * (10500 - 1 + 1))))
        console.log(arrRandomPrices);

        // 1)Сформувати новий масив, у якому є тільки ті, що більші за 1000 грн.
        let arrGreaterThan_1000 = arrRandomPrices.filter(element => element > 1000)
        console.log(arrGreaterThan_1000);

        // 2)Сформувати новий масив, у якому є номери тільки тих, що більші за 1000 грн.
        let arrPositionGreaterThan_1000 = arrRandomPrices.reduce((preRes, element, index, baseArrRef) => {
            if (element > 1000) return [...preRes, index]
            return preRes
        }
            , [])
        console.log(arrPositionGreaterThan_1000);

        // 3)Сформувати список з тих цін, які більші за попереднє значення
        let arrPricesHigherPrevios = []
        arrRandomPrices.reduce((preRes, element, index, baseArrRef) => {
            if (element > baseArrRef[index - 1]) arrPricesHigherPrevios.push(element)
        })
        console.log(arrPricesHigherPrevios);

        // 4)Сформувати новий масив, що міститиме значення цін у відсотках стосовно максимального
        let maxPrice = arrRandomPrices.reduce((preRes, element, index, BaseArrRef) => (element > preRes) ? preRes = element : preRes)
        let priceInPercent = arrRandomPrices.map((element) => Math.round(element / maxPrice * 100))
        console.log(priceInPercent);

        // 5)Підрахувати кількість змін цін
        let numberOfDiferentNumbers = arrRandomPrices.reduce((preRes, element, index, baseArrRef) => {
            if (index === baseArrRef.length - 1) return preRes;
            if (element !== baseArrRef[index + 1]) return preRes + 1;
            return preRes;
        }, 0)
        console.log(numberOfDiferentNumbers);

        // 6)Визначити, чи є ціна, що менше 1000
        let priceIsLower_1000 = arrRandomPrices.some(element => element < 1000)
        console.log(priceIsLower_1000);

        // 7)Визначати, чи усі ціни більше за 1000
        let pricesIsHiger__1000 = arrRandomPrices.every(element => element > 1000)
        console.log(pricesIsHiger__1000);

        // 8)Підрахувати кількість цін, що більше за 1000
        let numberPriceGreatedThan__1000 = arrRandomPrices.filter(element => element > 1000).length
        console.log(numberPriceGreatedThan__1000);

        // 9)Підрахувати суму цін, що більше за 1000
        let sumNumberPriceGreatedThan__1000 = arrRandomPrices.filter(element => element > 1000).reduce((preRes, element) => preRes + element)
        console.log(sumNumberPriceGreatedThan__1000);

        // 10)Знайти першу ціну, що більше за 1000
        let firstPriceLower__1000 = arrRandomPrices.find(element => element > 1000)
        console.log(firstPriceLower__1000);

        // 10)Знайти першу ціну, що більше за 1000
        let firstPriceLarger__1000 = arrRandomPrices.find(element => element > 1000)
        console.log(firstPriceLarger__1000);

        // 11)Знайти індекс першої ціни, що більше за 1000
        let firstPriceIndexLower__1000 = arrRandomPrices.findIndex((element, index) => element > 1000)
        console.log(firstPriceIndexLower__1000);

        // 12)Знайти останню ціну, що більше за 1000
        let lastPriceLarger__1000 = arrRandomPrices.findLast(element => element > 1000)
        console.log(lastPriceLarger__1000);

        // 13)Знайти індекс останньої ціни, що більше за 1000
        let lastPriceIndexLower__1000 = arrRandomPrices.findLastIndex(element => element > 1000)
        console.log(lastPriceIndexLower__1000);

    </script>

</body>

</html>